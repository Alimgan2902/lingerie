!function(t,i){"function"==typeof define&&define.amd?define(["jquery"],i):"object"==typeof exports?module.exports=i(require("jquery")):t.lightbox=i(t.jQuery)}(this,function(t){function i(i){this.album=[],this.currentImageIndex=void 0,this.init(),this.options=t.extend({},this.constructor.defaults),this.option(i)}return i.defaults={albumLabel:"Image %1 of %2",alwaysShowNavOnTouchDevices:!1,fadeDuration:600,fitImagesInViewport:!0,imageFadeDuration:600,positionFromTop:50,resizeDuration:700,showImageNumberLabel:!0,wrapAround:!1,disableScrolling:!1,sanitizeTitle:!1},i.prototype.option=function(i){t.extend(this.options,i)},i.prototype.imageCountLabel=function(t,i){return this.options.albumLabel.replace(/%1/g,t).replace(/%2/g,i)},i.prototype.init=function(){var i=this;t(document).ready(function(){i.enable(),i.build()})},i.prototype.enable=function(){var i=this;t("body").on("click","a[rel^=lightbox], area[rel^=lightbox], a[data-lightbox], area[data-lightbox]",function(e){return i.start(t(e.currentTarget)),!1})},i.prototype.build=function(){var i=this;t('<div id="lightboxOverlay" class="lightboxOverlay"></div><div id="lightbox" class="lightbox"><div class="lb-outerContainer"><div class="lb-container"><img class="lb-image" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" /><div class="lb-nav"><a class="lb-prev" href="" ></a><a class="lb-next" href="" ></a></div><div class="lb-loader"><a class="lb-cancel"></a></div></div></div><div class="lb-dataContainer"><div class="lb-data"><div class="lb-details"><span class="lb-caption"></span><span class="lb-number"></span></div><div class="lb-closeContainer"><a class="lb-close"></a></div></div></div></div>').appendTo(t("body")),this.$lightbox=t("#lightbox"),this.$overlay=t("#lightboxOverlay"),this.$outerContainer=this.$lightbox.find(".lb-outerContainer"),this.$container=this.$lightbox.find(".lb-container"),this.$image=this.$lightbox.find(".lb-image"),this.$nav=this.$lightbox.find(".lb-nav"),this.containerPadding={top:parseInt(this.$container.css("padding-top"),10),right:parseInt(this.$container.css("padding-right"),10),bottom:parseInt(this.$container.css("padding-bottom"),10),left:parseInt(this.$container.css("padding-left"),10)},this.imageBorderWidth={top:parseInt(this.$image.css("border-top-width"),10),right:parseInt(this.$image.css("border-right-width"),10),bottom:parseInt(this.$image.css("border-bottom-width"),10),left:parseInt(this.$image.css("border-left-width"),10)},this.$overlay.hide().on("click",function(){return i.end(),!1}),this.$lightbox.hide().on("click",function(e){return"lightbox"===t(e.target).attr("id")&&i.end(),!1}),this.$outerContainer.on("click",function(e){return"lightbox"===t(e.target).attr("id")&&i.end(),!1}),this.$lightbox.find(".lb-prev").on("click",function(){return 0===i.currentImageIndex?i.changeImage(i.album.length-1):i.changeImage(i.currentImageIndex-1),!1}),this.$lightbox.find(".lb-next").on("click",function(){return i.currentImageIndex===i.album.length-1?i.changeImage(0):i.changeImage(i.currentImageIndex+1),!1}),this.$nav.on("mousedown",function(t){3===t.which&&(i.$nav.css("pointer-events","none"),i.$lightbox.one("contextmenu",function(){setTimeout(function(){this.$nav.css("pointer-events","auto")}.bind(i),0)}))}),this.$lightbox.find(".lb-loader, .lb-close").on("click",function(){return i.end(),!1})},i.prototype.start=function(i){function e(t){n.album.push({link:t.attr("href"),title:t.attr("data-title")||t.attr("title")})}var n=this,o=t(window);o.on("resize",t.proxy(this.sizeOverlay,this)),t("select, object, embed").css({visibility:"hidden"}),this.sizeOverlay(),this.album=[];var a,s=0,r=i.attr("data-lightbox");if(r){a=t(i.prop("tagName")+'[data-lightbox="'+r+'"]');for(var h=0;h<a.length;h=++h)e(t(a[h])),a[h]===i[0]&&(s=h)}else if("lightbox"===i.attr("rel"))e(i);else{a=t(i.prop("tagName")+'[rel="'+i.attr("rel")+'"]');for(var l=0;l<a.length;l=++l)e(t(a[l])),a[l]===i[0]&&(s=l)}var d=o.scrollTop()+this.options.positionFromTop,g=o.scrollLeft();this.$lightbox.css({top:d+"px",left:g+"px"}).fadeIn(this.options.fadeDuration),this.options.disableScrolling&&t("body").addClass("lb-disable-scrolling"),this.changeImage(s)},i.prototype.changeImage=function(i){var e=this;this.disableKeyboardNav();var n=this.$lightbox.find(".lb-image");this.$overlay.fadeIn(this.options.fadeDuration),t(".lb-loader").fadeIn("slow"),this.$lightbox.find(".lb-image, .lb-nav, .lb-prev, .lb-next, .lb-dataContainer, .lb-numbers, .lb-caption").hide(),this.$outerContainer.addClass("animating");var o=new Image;o.onload=function(){var a,s,r,h,l,d,g;n.attr("src",e.album[i].link),a=t(o),n.width(o.width),n.height(o.height),e.options.fitImagesInViewport&&(g=t(window).width(),d=t(window).height(),l=g-e.containerPadding.left-e.containerPadding.right-e.imageBorderWidth.left-e.imageBorderWidth.right-20,h=d-e.containerPadding.top-e.containerPadding.bottom-e.imageBorderWidth.top-e.imageBorderWidth.bottom-120,e.options.maxWidth&&e.options.maxWidth<l&&(l=e.options.maxWidth),e.options.maxHeight&&e.options.maxHeight<l&&(h=e.options.maxHeight),(o.width>l||o.height>h)&&(o.width/l>o.height/h?(r=l,s=parseInt(o.height/(o.width/r),10),n.width(r),n.height(s)):(s=h,r=parseInt(o.width/(o.height/s),10),n.width(r),n.height(s)))),e.sizeContainer(n.width(),n.height())},o.src=this.album[i].link,this.currentImageIndex=i},i.prototype.sizeOverlay=function(){this.$overlay.width(t(document).width()).height(t(document).height())},i.prototype.sizeContainer=function(t,i){function e(){n.$lightbox.find(".lb-dataContainer").width(s),n.$lightbox.find(".lb-prevLink").height(r),n.$lightbox.find(".lb-nextLink").height(r),n.showImage()}var n=this,o=this.$outerContainer.outerWidth(),a=this.$outerContainer.outerHeight(),s=t+this.containerPadding.left+this.containerPadding.right+this.imageBorderWidth.left+this.imageBorderWidth.right,r=i+this.containerPadding.top+this.containerPadding.bottom+this.imageBorderWidth.top+this.imageBorderWidth.bottom;o!==s||a!==r?this.$outerContainer.animate({width:s,height:r},this.options.resizeDuration,"swing",function(){e()}):e()},i.prototype.showImage=function(){this.$lightbox.find(".lb-loader").stop(!0).hide(),this.$lightbox.find(".lb-image").fadeIn(this.options.imageFadeDuration),this.updateNav(),this.updateDetails(),this.preloadNeighboringImages(),this.enableKeyboardNav()},i.prototype.updateNav=function(){var t=!1;try{document.createEvent("TouchEvent"),t=!!this.options.alwaysShowNavOnTouchDevices}catch(i){}this.$lightbox.find(".lb-nav").show(),this.album.length>1&&(this.options.wrapAround?(t&&this.$lightbox.find(".lb-prev, .lb-next").css("opacity","1"),this.$lightbox.find(".lb-prev, .lb-next").show()):(this.currentImageIndex>0&&(this.$lightbox.find(".lb-prev").show(),t&&this.$lightbox.find(".lb-prev").css("opacity","1")),this.currentImageIndex<this.album.length-1&&(this.$lightbox.find(".lb-next").show(),t&&this.$lightbox.find(".lb-next").css("opacity","1"))))},i.prototype.updateDetails=function(){var i=this;if("undefined"!=typeof this.album[this.currentImageIndex].title&&""!==this.album[this.currentImageIndex].title){var e=this.$lightbox.find(".lb-caption");this.options.sanitizeTitle?e.text(this.album[this.currentImageIndex].title):e.html(this.album[this.currentImageIndex].title),e.fadeIn("fast").find("a").on("click",function(i){void 0!==t(this).attr("target")?window.open(t(this).attr("href"),t(this).attr("target")):location.href=t(this).attr("href")})}if(this.album.length>1&&this.options.showImageNumberLabel){var n=this.imageCountLabel(this.currentImageIndex+1,this.album.length);this.$lightbox.find(".lb-number").text(n).fadeIn("fast")}else this.$lightbox.find(".lb-number").hide();this.$outerContainer.removeClass("animating"),this.$lightbox.find(".lb-dataContainer").fadeIn(this.options.resizeDuration,function(){return i.sizeOverlay()})},i.prototype.preloadNeighboringImages=function(){if(this.album.length>this.currentImageIndex+1){var t=new Image;t.src=this.album[this.currentImageIndex+1].link}if(this.currentImageIndex>0){var i=new Image;i.src=this.album[this.currentImageIndex-1].link}},i.prototype.enableKeyboardNav=function(){t(document).on("keyup.keyboard",t.proxy(this.keyboardAction,this))},i.prototype.disableKeyboardNav=function(){t(document).off(".keyboard")},i.prototype.keyboardAction=function(t){var i=27,e=37,n=39,o=t.keyCode,a=String.fromCharCode(o).toLowerCase();o===i||a.match(/x|o|c/)?this.end():"p"===a||o===e?0!==this.currentImageIndex?this.changeImage(this.currentImageIndex-1):this.options.wrapAround&&this.album.length>1&&this.changeImage(this.album.length-1):("n"===a||o===n)&&(this.currentImageIndex!==this.album.length-1?this.changeImage(this.currentImageIndex+1):this.options.wrapAround&&this.album.length>1&&this.changeImage(0))},i.prototype.end=function(){this.disableKeyboardNav(),t(window).off("resize",this.sizeOverlay),this.$lightbox.fadeOut(this.options.fadeDuration),this.$overlay.fadeOut(this.options.fadeDuration),t("select, object, embed").css({visibility:"visible"}),this.options.disableScrolling&&t("body").removeClass("lb-disable-scrolling")},new i});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpZ2h0Ym94LmpzIl0sIm5hbWVzIjpbImEiLCJiIiwiZGVmaW5lIiwiYW1kIiwiZXhwb3J0cyIsIm1vZHVsZSIsInJlcXVpcmUiLCJsaWdodGJveCIsImpRdWVyeSIsInRoaXMiLCJhbGJ1bSIsImN1cnJlbnRJbWFnZUluZGV4IiwiaW5pdCIsIm9wdGlvbnMiLCJleHRlbmQiLCJjb25zdHJ1Y3RvciIsImRlZmF1bHRzIiwib3B0aW9uIiwiYWxidW1MYWJlbCIsImFsd2F5c1Nob3dOYXZPblRvdWNoRGV2aWNlcyIsImZhZGVEdXJhdGlvbiIsImZpdEltYWdlc0luVmlld3BvcnQiLCJpbWFnZUZhZGVEdXJhdGlvbiIsInBvc2l0aW9uRnJvbVRvcCIsInJlc2l6ZUR1cmF0aW9uIiwic2hvd0ltYWdlTnVtYmVyTGFiZWwiLCJ3cmFwQXJvdW5kIiwiZGlzYWJsZVNjcm9sbGluZyIsInNhbml0aXplVGl0bGUiLCJwcm90b3R5cGUiLCJpbWFnZUNvdW50TGFiZWwiLCJyZXBsYWNlIiwiZG9jdW1lbnQiLCJyZWFkeSIsImVuYWJsZSIsImJ1aWxkIiwib24iLCJjIiwic3RhcnQiLCJjdXJyZW50VGFyZ2V0IiwiYXBwZW5kVG8iLCIkbGlnaHRib3giLCIkb3ZlcmxheSIsIiRvdXRlckNvbnRhaW5lciIsImZpbmQiLCIkY29udGFpbmVyIiwiJGltYWdlIiwiJG5hdiIsImNvbnRhaW5lclBhZGRpbmciLCJ0b3AiLCJwYXJzZUludCIsImNzcyIsInJpZ2h0IiwiYm90dG9tIiwibGVmdCIsImltYWdlQm9yZGVyV2lkdGgiLCJoaWRlIiwiZW5kIiwidGFyZ2V0IiwiYXR0ciIsImNoYW5nZUltYWdlIiwibGVuZ3RoIiwid2hpY2giLCJvbmUiLCJzZXRUaW1lb3V0IiwiYmluZCIsImQiLCJwdXNoIiwibGluayIsInRpdGxlIiwiZSIsIndpbmRvdyIsInByb3h5Iiwic2l6ZU92ZXJsYXkiLCJ2aXNpYmlsaXR5IiwiZiIsImciLCJoIiwicHJvcCIsImkiLCJqIiwiayIsInNjcm9sbFRvcCIsImwiLCJzY3JvbGxMZWZ0IiwiZmFkZUluIiwiYWRkQ2xhc3MiLCJkaXNhYmxlS2V5Ym9hcmROYXYiLCJJbWFnZSIsIm9ubG9hZCIsIndpZHRoIiwiaGVpZ2h0IiwibWF4V2lkdGgiLCJtYXhIZWlnaHQiLCJzaXplQ29udGFpbmVyIiwic3JjIiwic2hvd0ltYWdlIiwib3V0ZXJXaWR0aCIsIm91dGVySGVpZ2h0IiwiYW5pbWF0ZSIsInN0b3AiLCJ1cGRhdGVOYXYiLCJ1cGRhdGVEZXRhaWxzIiwicHJlbG9hZE5laWdoYm9yaW5nSW1hZ2VzIiwiZW5hYmxlS2V5Ym9hcmROYXYiLCJjcmVhdGVFdmVudCIsInNob3ciLCJ0ZXh0IiwiaHRtbCIsIm9wZW4iLCJsb2NhdGlvbiIsImhyZWYiLCJyZW1vdmVDbGFzcyIsImtleWJvYXJkQWN0aW9uIiwib2ZmIiwia2V5Q29kZSIsIlN0cmluZyIsImZyb21DaGFyQ29kZSIsInRvTG93ZXJDYXNlIiwibWF0Y2giLCJmYWRlT3V0Il0sIm1hcHBpbmdzIjoiQ0FXQyxTQUFTQSxFQUFFQyxHQUFHLGtCQUFtQkMsU0FBUUEsT0FBT0MsSUFBSUQsUUFBUSxVQUFVRCxHQUFHLGdCQUFpQkcsU0FBUUMsT0FBT0QsUUFBUUgsRUFBRUssUUFBUSxXQUFXTixFQUFFTyxTQUFTTixFQUFFRCxFQUFFUSxTQUFTQyxLQUFLLFNBQVNULEdBQUcsUUFBU0MsR0FBRUEsR0FBR1EsS0FBS0MsU0FBU0QsS0FBS0Usa0JBQWtCLE9BQU9GLEtBQUtHLE9BQU9ILEtBQUtJLFFBQVFiLEVBQUVjLFVBQVVMLEtBQUtNLFlBQVlDLFVBQVVQLEtBQUtRLE9BQU9oQixHQUFHLE1BQU9BLEdBQUVlLFVBQVVFLFdBQVcsaUJBQWlCQyw2QkFBNEIsRUFBR0MsYUFBYSxJQUFJQyxxQkFBb0IsRUFBR0Msa0JBQWtCLElBQUlDLGdCQUFnQixHQUFHQyxlQUFlLElBQUlDLHNCQUFxQixFQUFHQyxZQUFXLEVBQUdDLGtCQUFpQixFQUFHQyxlQUFjLEdBQUkzQixFQUFFNEIsVUFBVVosT0FBTyxTQUFT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LFFBQVFPLGNBQWNwQixFQUFFLHlCQUF5Qm1ELEtBQUt1QixXQUFXLFlBQVlqRSxLQUFLSSxRQUFRYyxrQkFBa0IzQixFQUFFLFFBQVFnSCxZQUFZLHlCQUF5QixHQUFJL0ciLCJmaWxlIjoibGlnaHRib3guanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcclxuICogTGlnaHRib3ggdjIuOS4wXHJcbiAqIGJ5IExva2VzaCBEaGFrYXJcclxuICpcclxuICogTW9yZSBpbmZvOlxyXG4gKiBodHRwOi8vbG9rZXNoZGhha2FyLmNvbS9wcm9qZWN0cy9saWdodGJveDIvXHJcbiAqXHJcbiAqIENvcHlyaWdodCAyMDA3LCAyMDE1IExva2VzaCBEaGFrYXJcclxuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlXHJcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9sb2tlc2gvbGlnaHRib3gyL2Jsb2IvbWFzdGVyL0xJQ0VOU0VcclxuICovXHJcbiFmdW5jdGlvbihhLGIpe1wiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW1wianF1ZXJ5XCJdLGIpOlwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP21vZHVsZS5leHBvcnRzPWIocmVxdWlyZShcImpxdWVyeVwiKSk6YS5saWdodGJveD1iKGEualF1ZXJ5KX0odGhpcyxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGIpe3RoaXMuYWxidW09W10sdGhpcy5jdXJyZW50SW1hZ2VJbmRleD12b2lkIDAsdGhpcy5pbml0KCksdGhpcy5vcHRpb25zPWEuZXh0ZW5kKHt9LHRoaXMuY29uc3RydWN0b3IuZGVmYXVsdHMpLHRoaXMub3B0aW9uKGIpfXJldHVybiBiLmRlZmF1bHRzPXthbGJ1bUxhYmVsOlwiSW1hZ2UgJTEgb2YgJTJcIixhbHdheXNTaG93TmF2T25Ub3VjaERldmljZXM6ITEsZmFkZUR1cmF0aW9uOjYwMCxmaXRJbWFnZXNJblZpZXdwb3J0OiEwLGltYWdlRmFkZUR1cmF0aW9uOjYwMCxwb3NpdGlvbkZyb21Ub3A6NTAscmVzaXplRHVyYXRpb246NzAwLHNob3dJbWFnZU51bWJlckxhYmVsOiEwLHdyYXBBcm91bmQ6ITEsZGlzYWJsZVNjcm9sbGluZzohMSxzYW5pdGl6ZVRpdGxlOiExfSxiLnByb3RvdHlwZS5vcHRpb249ZnVuY3Rpb24oYil7YS5leHRlbmQodGhpcy5vcHRpb25zLGIpfSxiLnByb3RvdHlwZS5pbWFnZUNvdW50TGFiZWw9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5vcHRpb25zLmFsYnVtTGFiZWwucmVwbGFjZSgvJTEvZyxhKS5yZXBsYWNlKC8lMi9nLGIpfSxiLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7dmFyIGI9dGhpczthKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpe2IuZW5hYmxlKCksYi5idWlsZCgpfSl9LGIucHJvdG90eXBlLmVuYWJsZT1mdW5jdGlvbigpe3ZhciBiPXRoaXM7YShcImJvZHlcIikub24oXCJjbGlja1wiLFwiYVtyZWxePWxpZ2h0Ym94XSwgYXJlYVtyZWxePWxpZ2h0Ym94XSwgYVtkYXRhLWxpZ2h0Ym94XSwgYXJlYVtkYXRhLWxpZ2h0Ym94XVwiLGZ1bmN0aW9uKGMpe3JldHVybiBiLnN0YXJ0KGEoYy5jdXJyZW50VGFyZ2V0KSksITF9KX0sYi5wcm90b3R5cGUuYnVpbGQ9ZnVuY3Rpb24oKXt2YXIgYj10aGlzO2EoJzxkaXYgaWQ9XCJsaWdodGJveE92ZXJsYXlcIiBjbGFzcz1cImxpZ2h0Ym94T3ZlcmxheVwiPjwvZGl2PjxkaXYgaWQ9XCJsaWdodGJveFwiIGNsYXNzPVwibGlnaHRib3hcIj48ZGl2IGNsYXNzPVwibGItb3V0ZXJDb250YWluZXJcIj48ZGl2IGNsYXNzPVwibGItY29udGFpbmVyXCI+PGltZyBjbGFzcz1cImxiLWltYWdlXCIgc3JjPVwiZGF0YTppbWFnZS9naWY7YmFzZTY0LFIwbEdPRGxoQVFBQkFJQUFBUC8vL3dBQUFDSDVCQUVBQUFBQUxBQUFBQUFCQUFFQUFBSUNSQUVBT3c9PVwiIC8+PGRpdiBjbGFzcz1cImxiLW5hdlwiPjxhIGNsYXNzPVwibGItcHJldlwiIGhyZWY9XCJcIiA+PC9hPjxhIGNsYXNzPVwibGItbmV4dFwiIGhyZWY9XCJcIiA+PC9hPjwvZGl2PjxkaXYgY2xhc3M9XCJsYi1sb2FkZXJcIj48YSBjbGFzcz1cImxiLWNhbmNlbFwiPjwvYT48L2Rpdj48L2Rpdj48L2Rpdj48ZGl2IGNsYXNzPVwibGItZGF0YUNvbnRhaW5lclwiPjxkaXYgY2xhc3M9XCJsYi1kYXRhXCI+PGRpdiBjbGFzcz1cImxiLWRldGFpbHNcIj48c3BhbiBjbGFzcz1cImxiLWNhcHRpb25cIj48L3NwYW4+PHNwYW4gY2xhc3M9XCJsYi1udW1iZXJcIj48L3NwYW4+PC9kaXY+PGRpdiBjbGFzcz1cImxiLWNsb3NlQ29udGFpbmVyXCI+PGEgY2xhc3M9XCJsYi1jbG9zZVwiPjwvYT48L2Rpdj48L2Rpdj48L2Rpdj48L2Rpdj4nKS5hcHBlbmRUbyhhKFwiYm9keVwiKSksdGhpcy4kbGlnaHRib3g9YShcIiNsaWdodGJveFwiKSx0aGlzLiRvdmVybGF5PWEoXCIjbGlnaHRib3hPdmVybGF5XCIpLHRoaXMuJG91dGVyQ29udGFpbmVyPXRoaXMuJGxpZ2h0Ym94LmZpbmQoXCIubGItb3V0ZXJDb250YWluZXJcIiksdGhpcy4kY29udGFpbmVyPXRoaXMuJGxpZ2h0Ym94LmZpbmQoXCIubGItY29udGFpbmVyXCIpLHRoaXMuJGltYWdlPXRoaXMuJGxpZ2h0Ym94LmZpbmQoXCIubGItaW1hZ2VcIiksdGhpcy4kbmF2PXRoaXMuJGxpZ2h0Ym94LmZpbmQoXCIubGItbmF2XCIpLHRoaXMuY29udGFpbmVyUGFkZGluZz17dG9wOnBhcnNlSW50KHRoaXMuJGNvbnRhaW5lci5jc3MoXCJwYWRkaW5nLXRvcFwiKSwxMCkscmlnaHQ6cGFyc2VJbnQodGhpcy4kY29udGFpbmVyLmNzcyhcInBhZGRpbmctcmlnaHRcIiksMTApLGJvdHRvbTpwYXJzZUludCh0aGlzLiRjb250YWluZXIuY3NzKFwicGFkZGluZy1ib3R0b21cIiksMTApLGxlZnQ6cGFyc2VJbnQodGhpcy4kY29udGFpbmVyLmNzcyhcInBhZGRpbmctbGVmdFwiKSwxMCl9LHRoaXMuaW1hZ2VCb3JkZXJXaWR0aD17dG9wOnBhcnNlSW50KHRoaXMuJGltYWdlLmNzcyhcImJvcmRlci10b3Atd2lkdGhcIiksMTApLHJpZ2h0OnBhcnNlSW50KHRoaXMuJGltYWdlLmNzcyhcImJvcmRlci1yaWdodC13aWR0aFwiKSwxMCksYm90dG9tOnBhcnNlSW50KHRoaXMuJGltYWdlLmNzcyhcImJvcmRlci1ib3R0b20td2lkdGhcIiksMTApLGxlZnQ6cGFyc2VJbnQodGhpcy4kaW1hZ2UuY3NzKFwiYm9yZGVyLWxlZnQtd2lkdGhcIiksMTApfSx0aGlzLiRvdmVybGF5LmhpZGUoKS5vbihcImNsaWNrXCIsZnVuY3Rpb24oKXtyZXR1cm4gYi5lbmQoKSwhMX0pLHRoaXMuJGxpZ2h0Ym94LmhpZGUoKS5vbihcImNsaWNrXCIsZnVuY3Rpb24oYyl7cmV0dXJuXCJsaWdodGJveFwiPT09YShjLnRhcmdldCkuYXR0cihcImlkXCIpJiZiLmVuZCgpLCExfSksdGhpcy4kb3V0ZXJDb250YWluZXIub24oXCJjbGlja1wiLGZ1bmN0aW9uKGMpe3JldHVyblwibGlnaHRib3hcIj09PWEoYy50YXJnZXQpLmF0dHIoXCJpZFwiKSYmYi5lbmQoKSwhMX0pLHRoaXMuJGxpZ2h0Ym94LmZpbmQoXCIubGItcHJldlwiKS5vbihcImNsaWNrXCIsZnVuY3Rpb24oKXtyZXR1cm4gMD09PWIuY3VycmVudEltYWdlSW5kZXg/Yi5jaGFuZ2VJbWFnZShiLmFsYnVtLmxlbmd0aC0xKTpiLmNoYW5nZUltYWdlKGIuY3VycmVudEltYWdlSW5kZXgtMSksITF9KSx0aGlzLiRsaWdodGJveC5maW5kKFwiLmxiLW5leHRcIikub24oXCJjbGlja1wiLGZ1bmN0aW9uKCl7cmV0dXJuIGIuY3VycmVudEltYWdlSW5kZXg9PT1iLmFsYnVtLmxlbmd0aC0xP2IuY2hhbmdlSW1hZ2UoMCk6Yi5jaGFuZ2VJbWFnZShiLmN1cnJlbnRJbWFnZUluZGV4KzEpLCExfSksdGhpcy4kbmF2Lm9uKFwibW91c2Vkb3duXCIsZnVuY3Rpb24oYSl7Mz09PWEud2hpY2gmJihiLiRuYXYuY3NzKFwicG9pbnRlci1ldmVudHNcIixcIm5vbmVcIiksYi4kbGlnaHRib3gub25lKFwiY29udGV4dG1lbnVcIixmdW5jdGlvbigpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXt0aGlzLiRuYXYuY3NzKFwicG9pbnRlci1ldmVudHNcIixcImF1dG9cIil9LmJpbmQoYiksMCl9KSl9KSx0aGlzLiRsaWdodGJveC5maW5kKFwiLmxiLWxvYWRlciwgLmxiLWNsb3NlXCIpLm9uKFwiY2xpY2tcIixmdW5jdGlvbigpe3JldHVybiBiLmVuZCgpLCExfSl9LGIucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKGIpe2Z1bmN0aW9uIGMoYSl7ZC5hbGJ1bS5wdXNoKHtsaW5rOmEuYXR0cihcImhyZWZcIiksdGl0bGU6YS5hdHRyKFwiZGF0YS10aXRsZVwiKXx8YS5hdHRyKFwidGl0bGVcIil9KX12YXIgZD10aGlzLGU9YSh3aW5kb3cpO2Uub24oXCJyZXNpemVcIixhLnByb3h5KHRoaXMuc2l6ZU92ZXJsYXksdGhpcykpLGEoXCJzZWxlY3QsIG9iamVjdCwgZW1iZWRcIikuY3NzKHt2aXNpYmlsaXR5OlwiaGlkZGVuXCJ9KSx0aGlzLnNpemVPdmVybGF5KCksdGhpcy5hbGJ1bT1bXTt2YXIgZixnPTAsaD1iLmF0dHIoXCJkYXRhLWxpZ2h0Ym94XCIpO2lmKGgpe2Y9YShiLnByb3AoXCJ0YWdOYW1lXCIpKydbZGF0YS1saWdodGJveD1cIicraCsnXCJdJyk7Zm9yKHZhciBpPTA7aTxmLmxlbmd0aDtpPSsraSljKGEoZltpXSkpLGZbaV09PT1iWzBdJiYoZz1pKX1lbHNlIGlmKFwibGlnaHRib3hcIj09PWIuYXR0cihcInJlbFwiKSljKGIpO2Vsc2V7Zj1hKGIucHJvcChcInRhZ05hbWVcIikrJ1tyZWw9XCInK2IuYXR0cihcInJlbFwiKSsnXCJdJyk7Zm9yKHZhciBqPTA7ajxmLmxlbmd0aDtqPSsrailjKGEoZltqXSkpLGZbal09PT1iWzBdJiYoZz1qKX12YXIgaz1lLnNjcm9sbFRvcCgpK3RoaXMub3B0aW9ucy5wb3NpdGlvbkZyb21Ub3AsbD1lLnNjcm9sbExlZnQoKTt0aGlzLiRsaWdodGJveC5jc3Moe3RvcDprK1wicHhcIixsZWZ0OmwrXCJweFwifSkuZmFkZUluKHRoaXMub3B0aW9ucy5mYWRlRHVyYXRpb24pLHRoaXMub3B0aW9ucy5kaXNhYmxlU2Nyb2xsaW5nJiZhKFwiYm9keVwiKS5hZGRDbGFzcyhcImxiLWRpc2FibGUtc2Nyb2xsaW5nXCIpLHRoaXMuY2hhbmdlSW1hZ2UoZyl9LGIucHJvdG90eXBlLmNoYW5nZUltYWdlPWZ1bmN0aW9uKGIpe3ZhciBjPXRoaXM7dGhpcy5kaXNhYmxlS2V5Ym9hcmROYXYoKTt2YXIgZD10aGlzLiRsaWdodGJveC5maW5kKFwiLmxiLWltYWdlXCIpO3RoaXMuJG92ZXJsYXkuZmFkZUluKHRoaXMub3B0aW9ucy5mYWRlRHVyYXRpb24pLGEoXCIubGItbG9hZGVyXCIpLmZhZGVJbihcInNsb3dcIiksdGhpcy4kbGlnaHRib3guZmluZChcIi5sYi1pbWFnZSwgLmxiLW5hdiwgLmxiLXByZXYsIC5sYi1uZXh0LCAubGItZGF0YUNvbnRhaW5lciwgLmxiLW51bWJlcnMsIC5sYi1jYXB0aW9uXCIpLmhpZGUoKSx0aGlzLiRvdXRlckNvbnRhaW5lci5hZGRDbGFzcyhcImFuaW1hdGluZ1wiKTt2YXIgZT1uZXcgSW1hZ2U7ZS5vbmxvYWQ9ZnVuY3Rpb24oKXt2YXIgZixnLGgsaSxqLGssbDtkLmF0dHIoXCJzcmNcIixjLmFsYnVtW2JdLmxpbmspLGY9YShlKSxkLndpZHRoKGUud2lkdGgpLGQuaGVpZ2h0KGUuaGVpZ2h0KSxjLm9wdGlvbnMuZml0SW1hZ2VzSW5WaWV3cG9ydCYmKGw9YSh3aW5kb3cpLndpZHRoKCksaz1hKHdpbmRvdykuaGVpZ2h0KCksaj1sLWMuY29udGFpbmVyUGFkZGluZy5sZWZ0LWMuY29udGFpbmVyUGFkZGluZy5yaWdodC1jLmltYWdlQm9yZGVyV2lkdGgubGVmdC1jLmltYWdlQm9yZGVyV2lkdGgucmlnaHQtMjAsaT1rLWMuY29udGFpbmVyUGFkZGluZy50b3AtYy5jb250YWluZXJQYWRkaW5nLmJvdHRvbS1jLmltYWdlQm9yZGVyV2lkdGgudG9wLWMuaW1hZ2VCb3JkZXJXaWR0aC5ib3R0b20tMTIwLGMub3B0aW9ucy5tYXhXaWR0aCYmYy5vcHRpb25zLm1heFdpZHRoPGomJihqPWMub3B0aW9ucy5tYXhXaWR0aCksYy5vcHRpb25zLm1heEhlaWdodCYmYy5vcHRpb25zLm1heEhlaWdodDxqJiYoaT1jLm9wdGlvbnMubWF4SGVpZ2h0KSwoZS53aWR0aD5qfHxlLmhlaWdodD5pKSYmKGUud2lkdGgvaj5lLmhlaWdodC9pPyhoPWosZz1wYXJzZUludChlLmhlaWdodC8oZS53aWR0aC9oKSwxMCksZC53aWR0aChoKSxkLmhlaWdodChnKSk6KGc9aSxoPXBhcnNlSW50KGUud2lkdGgvKGUuaGVpZ2h0L2cpLDEwKSxkLndpZHRoKGgpLGQuaGVpZ2h0KGcpKSkpLGMuc2l6ZUNvbnRhaW5lcihkLndpZHRoKCksZC5oZWlnaHQoKSl9LGUuc3JjPXRoaXMuYWxidW1bYl0ubGluayx0aGlzLmN1cnJlbnRJbWFnZUluZGV4PWJ9LGIucHJvdG90eXBlLnNpemVPdmVybGF5PWZ1bmN0aW9uKCl7dGhpcy4kb3ZlcmxheS53aWR0aChhKGRvY3VtZW50KS53aWR0aCgpKS5oZWlnaHQoYShkb2N1bWVudCkuaGVpZ2h0KCkpfSxiLnByb3RvdHlwZS5zaXplQ29udGFpbmVyPWZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYygpe2QuJGxpZ2h0Ym94LmZpbmQoXCIubGItZGF0YUNvbnRhaW5lclwiKS53aWR0aChnKSxkLiRsaWdodGJveC5maW5kKFwiLmxiLXByZXZMaW5rXCIpLmhlaWdodChoKSxkLiRsaWdodGJveC5maW5kKFwiLmxiLW5leHRMaW5rXCIpLmhlaWdodChoKSxkLnNob3dJbWFnZSgpfXZhciBkPXRoaXMsZT10aGlzLiRvdXRlckNvbnRhaW5lci5vdXRlcldpZHRoKCksZj10aGlzLiRvdXRlckNvbnRhaW5lci5vdXRlckhlaWdodCgpLGc9YSt0aGlzLmNvbnRhaW5lclBhZGRpbmcubGVmdCt0aGlzLmNvbnRhaW5lclBhZGRpbmcucmlnaHQrdGhpcy5pbWFnZUJvcmRlcldpZHRoLmxlZnQrdGhpcy5pbWFnZUJvcmRlcldpZHRoLnJpZ2h0LGg9Yit0aGlzLmNvbnRhaW5lclBhZGRpbmcudG9wK3RoaXMuY29udGFpbmVyUGFkZGluZy5ib3R0b20rdGhpcy5pbWFnZUJvcmRlcldpZHRoLnRvcCt0aGlzLmltYWdlQm9yZGVyV2lkdGguYm90dG9tO2UhPT1nfHxmIT09aD90aGlzLiRvdXRlckNvbnRhaW5lci5hbmltYXRlKHt3aWR0aDpnLGhlaWdodDpofSx0aGlzLm9wdGlvbnMucmVzaXplRHVyYXRpb24sXCJzd2luZ1wiLGZ1bmN0aW9uKCl7YygpfSk6YygpfSxiLnByb3RvdHlwZS5zaG93SW1hZ2U9ZnVuY3Rpb24oKXt0aGlzLiRsaWdodGJveC5maW5kKFwiLmxiLWxvYWRlclwiKS5zdG9wKCEwKS5oaWRlKCksdGhpcy4kbGlnaHRib3guZmluZChcIi5sYi1pbWFnZVwiKS5mYWRlSW4odGhpcy5vcHRpb25zLmltYWdlRmFkZUR1cmF0aW9uKSx0aGlzLnVwZGF0ZU5hdigpLHRoaXMudXBkYXRlRGV0YWlscygpLHRoaXMucHJlbG9hZE5laWdoYm9yaW5nSW1hZ2VzKCksdGhpcy5lbmFibGVLZXlib2FyZE5hdigpfSxiLnByb3RvdHlwZS51cGRhdGVOYXY9ZnVuY3Rpb24oKXt2YXIgYT0hMTt0cnl7ZG9jdW1lbnQuY3JlYXRlRXZlbnQoXCJUb3VjaEV2ZW50XCIpLGE9dGhpcy5vcHRpb25zLmFsd2F5c1Nob3dOYXZPblRvdWNoRGV2aWNlcz8hMDohMX1jYXRjaChiKXt9dGhpcy4kbGlnaHRib3guZmluZChcIi5sYi1uYXZcIikuc2hvdygpLHRoaXMuYWxidW0ubGVuZ3RoPjEmJih0aGlzLm9wdGlvbnMud3JhcEFyb3VuZD8oYSYmdGhpcy4kbGlnaHRib3guZmluZChcIi5sYi1wcmV2LCAubGItbmV4dFwiKS5jc3MoXCJvcGFjaXR5XCIsXCIxXCIpLHRoaXMuJGxpZ2h0Ym94LmZpbmQoXCIubGItcHJldiwgLmxiLW5leHRcIikuc2hvdygpKToodGhpcy5jdXJyZW50SW1hZ2VJbmRleD4wJiYodGhpcy4kbGlnaHRib3guZmluZChcIi5sYi1wcmV2XCIpLnNob3coKSxhJiZ0aGlzLiRsaWdodGJveC5maW5kKFwiLmxiLXByZXZcIikuY3NzKFwib3BhY2l0eVwiLFwiMVwiKSksdGhpcy5jdXJyZW50SW1hZ2VJbmRleDx0aGlzLmFsYnVtLmxlbmd0aC0xJiYodGhpcy4kbGlnaHRib3guZmluZChcIi5sYi1uZXh0XCIpLnNob3coKSxhJiZ0aGlzLiRsaWdodGJveC5maW5kKFwiLmxiLW5leHRcIikuY3NzKFwib3BhY2l0eVwiLFwiMVwiKSkpKX0sYi5wcm90b3R5cGUudXBkYXRlRGV0YWlscz1mdW5jdGlvbigpe3ZhciBiPXRoaXM7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHRoaXMuYWxidW1bdGhpcy5jdXJyZW50SW1hZ2VJbmRleF0udGl0bGUmJlwiXCIhPT10aGlzLmFsYnVtW3RoaXMuY3VycmVudEltYWdlSW5kZXhdLnRpdGxlKXt2YXIgYz10aGlzLiRsaWdodGJveC5maW5kKFwiLmxiLWNhcHRpb25cIik7dGhpcy5vcHRpb25zLnNhbml0aXplVGl0bGU/Yy50ZXh0KHRoaXMuYWxidW1bdGhpcy5jdXJyZW50SW1hZ2VJbmRleF0udGl0bGUpOmMuaHRtbCh0aGlzLmFsYnVtW3RoaXMuY3VycmVudEltYWdlSW5kZXhdLnRpdGxlKSxjLmZhZGVJbihcImZhc3RcIikuZmluZChcImFcIikub24oXCJjbGlja1wiLGZ1bmN0aW9uKGIpe3ZvaWQgMCE9PWEodGhpcykuYXR0cihcInRhcmdldFwiKT93aW5kb3cub3BlbihhKHRoaXMpLmF0dHIoXCJocmVmXCIpLGEodGhpcykuYXR0cihcInRhcmdldFwiKSk6bG9jYXRpb24uaHJlZj1hKHRoaXMpLmF0dHIoXCJocmVmXCIpfSl9aWYodGhpcy5hbGJ1bS5sZW5ndGg+MSYmdGhpcy5vcHRpb25zLnNob3dJbWFnZU51bWJlckxhYmVsKXt2YXIgZD10aGlzLmltYWdlQ291bnRMYWJlbCh0aGlzLmN1cnJlbnRJbWFnZUluZGV4KzEsdGhpcy5hbGJ1bS5sZW5ndGgpO3RoaXMuJGxpZ2h0Ym94LmZpbmQoXCIubGItbnVtYmVyXCIpLnRleHQoZCkuZmFkZUluKFwiZmFzdFwiKX1lbHNlIHRoaXMuJGxpZ2h0Ym94LmZpbmQoXCIubGItbnVtYmVyXCIpLmhpZGUoKTt0aGlzLiRvdXRlckNvbnRhaW5lci5yZW1vdmVDbGFzcyhcImFuaW1hdGluZ1wiKSx0aGlzLiRsaWdodGJveC5maW5kKFwiLmxiLWRhdGFDb250YWluZXJcIikuZmFkZUluKHRoaXMub3B0aW9ucy5yZXNpemVEdXJhdGlvbixmdW5jdGlvbigpe3JldHVybiBiLnNpemVPdmVybGF5KCl9KX0sYi5wcm90b3R5cGUucHJlbG9hZE5laWdoYm9yaW5nSW1hZ2VzPWZ1bmN0aW9uKCl7aWYodGhpcy5hbGJ1bS5sZW5ndGg+dGhpcy5jdXJyZW50SW1hZ2VJbmRleCsxKXt2YXIgYT1uZXcgSW1hZ2U7YS5zcmM9dGhpcy5hbGJ1bVt0aGlzLmN1cnJlbnRJbWFnZUluZGV4KzFdLmxpbmt9aWYodGhpcy5jdXJyZW50SW1hZ2VJbmRleD4wKXt2YXIgYj1uZXcgSW1hZ2U7Yi5zcmM9dGhpcy5hbGJ1bVt0aGlzLmN1cnJlbnRJbWFnZUluZGV4LTFdLmxpbmt9fSxiLnByb3RvdHlwZS5lbmFibGVLZXlib2FyZE5hdj1mdW5jdGlvbigpe2EoZG9jdW1lbnQpLm9uKFwia2V5dXAua2V5Ym9hcmRcIixhLnByb3h5KHRoaXMua2V5Ym9hcmRBY3Rpb24sdGhpcykpfSxiLnByb3RvdHlwZS5kaXNhYmxlS2V5Ym9hcmROYXY9ZnVuY3Rpb24oKXthKGRvY3VtZW50KS5vZmYoXCIua2V5Ym9hcmRcIil9LGIucHJvdG90eXBlLmtleWJvYXJkQWN0aW9uPWZ1bmN0aW9uKGEpe3ZhciBiPTI3LGM9MzcsZD0zOSxlPWEua2V5Q29kZSxmPVN0cmluZy5mcm9tQ2hhckNvZGUoZSkudG9Mb3dlckNhc2UoKTtlPT09Ynx8Zi5tYXRjaCgveHxvfGMvKT90aGlzLmVuZCgpOlwicFwiPT09Znx8ZT09PWM/MCE9PXRoaXMuY3VycmVudEltYWdlSW5kZXg/dGhpcy5jaGFuZ2VJbWFnZSh0aGlzLmN1cnJlbnRJbWFnZUluZGV4LTEpOnRoaXMub3B0aW9ucy53cmFwQXJvdW5kJiZ0aGlzLmFsYnVtLmxlbmd0aD4xJiZ0aGlzLmNoYW5nZUltYWdlKHRoaXMuYWxidW0ubGVuZ3RoLTEpOihcIm5cIj09PWZ8fGU9PT1kKSYmKHRoaXMuY3VycmVudEltYWdlSW5kZXghPT10aGlzLmFsYnVtLmxlbmd0aC0xP3RoaXMuY2hhbmdlSW1hZ2UodGhpcy5jdXJyZW50SW1hZ2VJbmRleCsxKTp0aGlzLm9wdGlvbnMud3JhcEFyb3VuZCYmdGhpcy5hbGJ1bS5sZW5ndGg+MSYmdGhpcy5jaGFuZ2VJbWFnZSgwKSl9LGIucHJvdG90eXBlLmVuZD1mdW5jdGlvbigpe3RoaXMuZGlzYWJsZUtleWJvYXJkTmF2KCksYSh3aW5kb3cpLm9mZihcInJlc2l6ZVwiLHRoaXMuc2l6ZU92ZXJsYXkpLHRoaXMuJGxpZ2h0Ym94LmZhZGVPdXQodGhpcy5vcHRpb25zLmZhZGVEdXJhdGlvbiksdGhpcy4kb3ZlcmxheS5mYWRlT3V0KHRoaXMub3B0aW9ucy5mYWRlRHVyYXRpb24pLGEoXCJzZWxlY3QsIG9iamVjdCwgZW1iZWRcIikuY3NzKHt2aXNpYmlsaXR5OlwidmlzaWJsZVwifSksdGhpcy5vcHRpb25zLmRpc2FibGVTY3JvbGxpbmcmJmEoXCJib2R5XCIpLnJlbW92ZUNsYXNzKFwibGItZGlzYWJsZS1zY3JvbGxpbmdcIil9LG5ldyBifSk7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxpZ2h0Ym94Lm1pbi5tYXAiXX0=
